<shared-loading-screen *ngIf="loading"></shared-loading-screen>

<div class="editar-perfil-main-container">
  <app-header titulo="Editar Perfil" [back]="true" path="/perfil"></app-header>

  <div class="form-container">
    <form [formGroup]="perfilForm">
      <mat-form-field
        class="full-width"
        [ngClass]="{ marginBottom: validarCampoFormulario('var_nombres') }"
      >
        <mat-label>Nombres</mat-label>
        <input matInput formControlName="var_nombres" />
        <mat-error>Ingrese un nombre v치lido</mat-error>
      </mat-form-field>

      <mat-form-field
        class="full-width"
        [ngClass]="{ marginBottom: validarCampoFormulario('var_apellidos') }"
      >
        <mat-label>Apellidos</mat-label>
        <input matInput formControlName="var_apellidos" />
        <mat-error>Ingrese un apellido v치lido</mat-error>
      </mat-form-field>

      <mat-form-field
        class="full-width"
        [ngClass]="{ marginBottom: validarCampoFormulario('var_correo') }"
      >
        <mat-label>Correo Electr칩nico</mat-label>
        <input matInput formControlName="var_correo" />
        <mat-error>{{ obtenerErrorCampoFormulario("var_correo") }}</mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label>Contrase침a Actual</mat-label>
        <input
          matInput
          formControlName="var_contrasena"
          [type]="ocultarPassword ? 'password' : 'text'"
        />
        <mat-icon
          matSuffix
          color="primary"
          (click)="ocultarPassword = !ocultarPassword"
        >
          {{ ocultarPassword ? "visibility_off" : "visibility" }}
        </mat-icon>
        <mat-error
          >{{ obtenerErrorCampoFormulario("var_contrasena") }}
        </mat-error>
      </mat-form-field>
    </form>

    <shared-default-button
      text="Actualizar Datos"
      [defaultButton]="true"
      (onClick)="onSubmit()"
    ></shared-default-button>
  </div>
</div>
